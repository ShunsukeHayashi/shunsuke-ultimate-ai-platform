# /setup-yaml-context

Set up YAML Context Engineering in any project.

## Usage

```
/setup-yaml-context [project-name]
```

## Arguments

- `project-name` - Name of the project (optional, defaults to current directory name)

## Description

This command initializes YAML Context Engineering in your current project by:

1. Creating necessary directories
2. Setting up configuration files
3. Initializing LDD (Log-Driven Development) system
4. Creating sample extraction templates
5. Setting up local MCP integration

## Examples

```
/setup-yaml-context
/setup-yaml-context my-documentation-project
```

## Implementation

```javascript
const projectName = "$ARGUMENTS".trim() || path.basename(process.cwd());
console.log("ğŸš€ YAML Context Engineering ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã™");
console.log(`ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: ${projectName}`);

// Create directory structure
const dirs = [
    'generated_contexts',
    'generated_contexts/logs/tasks',
    'generated_contexts/logs/system',
    'generated_contexts/logs/metrics',
    'generated_contexts/logs/feedback',
    '.claude/yaml-context'
];

for (const dir of dirs) {
    await fs.mkdir(dir, { recursive: true });
}
console.log("âœ… ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ä½œæˆã—ã¾ã—ãŸ");

// Create config.yaml
const configContent = `# YAML Context Engineering Configuration
name: ${projectName}
version: 1.0.0

# Output settings
output:
  base_directory: ./generated_contexts
  create_subdirs: true
  
# Extraction settings
extraction:
  default_granularity: L1_L2
  default_summarization: detailed
  enable_metadata: true
  
# LDD settings
ldd:
  enabled: true
  logs_directory: ./generated_contexts/logs
  memory_bank_path: ./generated_contexts/@memory-bank.md
`;

await fs.writeFile('config.yaml', configContent);
console.log("âœ… è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸ");

// Initialize LDD system
await mcp.call("yaml-context-engineering", "ldd_manager", {
    action: "initialize",
    logs_dir: "./generated_contexts/logs",
    memory_bank_path: "./generated_contexts/@memory-bank.md"
});
console.log("âœ… LDDã‚·ã‚¹ãƒ†ãƒ ã‚’åˆæœŸåŒ–ã—ã¾ã—ãŸ");

// Create memory bank
const memoryBankContent = `# ğŸ“š Memory Bank - ${projectName}

## Overview
ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€${projectName} ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çŸ¥è­˜ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è“„ç©ã—ã¾ã™ã€‚

## Extraction Patterns
<!-- æˆåŠŸã—ãŸæŠ½å‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã“ã“ã«è¨˜éŒ² -->

## Learnings
<!-- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å¾—ã‚‰ã‚ŒãŸå­¦ç¿’å†…å®¹ -->

## Best Practices
<!-- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨æ¨å¥¨äº‹é … -->

---
*Generated by YAML Context Engineering Agent*
`;

await fs.writeFile('generated_contexts/@memory-bank.md', memoryBankContent);
console.log("âœ… ãƒ¡ãƒ¢ãƒªãƒ¼ãƒãƒ³ã‚¯ã‚’ä½œæˆã—ã¾ã—ãŸ");

// Create sample extraction targets
const targetsContent = `# Extraction Targets

## Regular Sources
# Add URLs or file paths to regularly extract from
# https://docs.example.com/api
# ./docs/*.md

## One-time Sources
# Add sources for one-time extraction
`;

await fs.writeFile('.claude/yaml-context/extraction-targets.txt', targetsContent);

// Create local settings
const localSettings = {
    "yaml-context": {
        "output_directory": "./generated_contexts",
        "auto_index": true,
        "quality_threshold": 70,
        "extraction_defaults": {
            "granularity": "L1_L2",
            "include_examples": true,
            "summarization": "detailed"
        }
    }
};

await fs.writeFile('.claude/yaml-context/settings.json', JSON.stringify(localSettings, null, 2));

console.log("\nâœ… ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼");
console.log("\næ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:");
console.log("1. /extract-context <URL> ã§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡º");
console.log("2. /analyze-quality ã§å“è³ªã‚’ãƒã‚§ãƒƒã‚¯");
console.log("3. generated_contexts/ ã§çµæœã‚’ç¢ºèª");
```

## Created Structure

```
project/
â”œâ”€â”€ generated_contexts/       # æŠ½å‡ºã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ logs/                # LDDãƒ­ã‚°
â”‚   â”‚   â”œâ”€â”€ tasks/          # ã‚¿ã‚¹ã‚¯ãƒ­ã‚°
â”‚   â”‚   â”œâ”€â”€ system/         # ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°
â”‚   â”‚   â”œâ”€â”€ metrics/        # ãƒ¡ãƒˆãƒªã‚¯ã‚¹
â”‚   â”‚   â””â”€â”€ feedback/       # ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
â”‚   â””â”€â”€ @memory-bank.md     # ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ yaml-context/       # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”‚       â”œâ”€â”€ settings.json   # ãƒ­ãƒ¼ã‚«ãƒ«è¨­å®š
â”‚       â””â”€â”€ extraction-targets.txt
â””â”€â”€ config.yaml             # ãƒ¡ã‚¤ãƒ³è¨­å®š
```

## Next Steps

1. Add extraction targets to `.claude/yaml-context/extraction-targets.txt`
2. Run `/extract-context` on your sources
3. Use `/analyze-quality` to check extraction quality
4. Review generated contexts in `generated_contexts/`